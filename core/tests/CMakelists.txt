# Fetch Google Tests
include(FetchContent)
FetchContent_Declare(
    googletest
    GIT_REPOSITORY https://github.com/google/googletest.git
    GIT_TAG v1.15.2
)
FetchContent_MakeAvailable(googletest)


# ----- TESTS HERE -----
# TODO: automate this based on naming conventions
add_executable(optional_test optional_test.cpp)
target_link_libraries(optional_test
    PRIVATE
        gtest_main   # from googletest
        core         # link our library
)
add_test(NAME optional_test COMMAND optional_test)

set(ALGORITHM_TEST_SOURCES
    algorithm-modify_test.cpp
    algorithm_test.cpp
)
add_executable(algorithm_test ${ALGORITHM_TEST_SOURCES})
target_link_libraries(algorithm_test
    PRIVATE
        gtest_main   # from googletest
        core         # link our library
)
add_test(NAME algorithm_test COMMAND algorithm_test)

# Repeat as needed for each test file...
# add_executable(optional_test optional_test.cpp)
# ...
# add_test(NAME optional_test COMMAND optional_test)
